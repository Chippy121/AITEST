<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Modern Calculator</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
  <!-- Tailwind is built via npm into css/styles.css (see package.json scripts) -->
  <link rel="stylesheet" href="css/styles.css">
</head>
<body class="min-h-screen bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-6">
  <main class="w-full max-w-md">
    <section class="bg-gradient-to-b from-white/3 to-black/10 backdrop-blur-sm rounded-3xl p-6 shadow-2xl border border-white/5">
      <header class="flex items-center justify-between mb-4">
        <h1 class="text-white text-lg font-semibold">Calculator</h1>
        <div class="flex items-center gap-3">
          <span class="text-sm text-slate-400 hidden sm:inline">Tailwind UI</span>
          <button id="theme-toggle" type="button" class="p-2 rounded-full bg-slate-800/40 hover:bg-slate-800/60 text-slate-200 transition" aria-label="Toggle theme" title="Toggle theme">
            <svg id="theme-toggle-icon" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
              <path id="theme-icon-path" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m8.66-9H21M3 12H2m15.36 6.36l-.71-.71M6.35 6.35l-.71-.71m12.02 0l.71-.71M6.34 17.66l.71-.71M12 7a5 5 0 100 10 5 5 0 000-10z"></path>
            </svg>
          </button>
        </div>
      </header>

      <div class="bg-slate-900/60 rounded-xl p-4 text-right mb-6">
        <div id="previous" class="text-slate-400 text-sm min-h-[18px]"></div>
        <div id="current" class="text-white text-3xl font-extrabold min-h-[44px]">0</div>
      </div>

      <div class="grid grid-cols-4 gap-3">
        <button type="button" class="col-span-2 bg-slate-700/40 hover:bg-slate-700/60 text-slate-200 rounded-xl py-3 text-lg transition" data-action="clear">AC</button>
        <button type="button" class="bg-slate-700/40 hover:bg-slate-700/60 text-slate-200 rounded-xl py-3 text-lg transition" data-action="delete">DEL</button>
        <button type="button" class="bg-amber-500/10 hover:bg-amber-500/20 text-amber-400 rounded-xl py-3 text-lg transition" data-operation="/">÷</button>

        <button type="button" class="bg-slate-800/50 hover:bg-slate-800/70 text-white rounded-xl py-3 text-lg transition" data-number="7">7</button>
        <button type="button" class="bg-slate-800/50 hover:bg-slate-800/70 text-white rounded-xl py-3 text-lg transition" data-number="8">8</button>
        <button type="button" class="bg-slate-800/50 hover:bg-slate-800/70 text-white rounded-xl py-3 text-lg transition" data-number="9">9</button>
        <button type="button" class="bg-amber-500/10 hover:bg-amber-500/20 text-amber-400 rounded-xl py-3 text-lg transition" data-operation="*">×</button>

        <button type="button" class="bg-slate-800/50 hover:bg-slate-800/70 text-white rounded-xl py-3 text-lg transition" data-number="4">4</button>
        <button type="button" class="bg-slate-800/50 hover:bg-slate-800/70 text-white rounded-xl py-3 text-lg transition" data-number="5">5</button>
        <button type="button" class="bg-slate-800/50 hover:bg-slate-800/70 text-white rounded-xl py-3 text-lg transition" data-number="6">6</button>
        <button type="button" class="bg-amber-500/10 hover:bg-amber-500/20 text-amber-400 rounded-xl py-3 text-lg transition" data-operation="-">−</button>

        <button type="button" class="bg-slate-800/50 hover:bg-slate-800/70 text-white rounded-xl py-3 text-lg transition" data-number="1">1</button>
        <button type="button" class="bg-slate-800/50 hover:bg-slate-800/70 text-white rounded-xl py-3 text-lg transition" data-number="2">2</button>
        <button type="button" class="bg-slate-800/50 hover:bg-slate-800/70 text-white rounded-xl py-3 text-lg transition" data-number="3">3</button>
        <button type="button" class="bg-amber-500/10 hover:bg-amber-500/20 text-amber-400 rounded-xl py-3 text-lg transition" data-operation="+">+</button>

        <button type="button" class="col-span-2 bg-slate-800/50 hover:bg-slate-800/70 text-white rounded-xl py-3 text-lg transition text-left pl-6" data-number="0">0</button>
        <button type="button" class="bg-slate-800/50 hover:bg-slate-800/70 text-white rounded-xl py-3 text-lg transition" data-number=".">.</button>
        <button type="button" class="bg-gradient-to-r from-primary to-accent text-slate-900 font-bold rounded-xl py-3 text-lg transition shadow-md" data-action="equals">=</button>
      </div>
    </section>

    <p class="mt-4 text-center text-sm text-slate-400">Tip: Use keyboard for faster input — numbers, + - * /, Enter, Backspace, C</p>
  </main>

  <script>
  (function(){
    const toggle = document.getElementById('theme-toggle');
    const iconPath = document.getElementById('theme-icon-path');
    const sectionEl = document.querySelector('section');
    const stored = localStorage.getItem('theme');
    const prefersLight = window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches;
    const initial = stored || (prefersLight ? 'light' : 'dark');
    document.documentElement.classList.toggle('light', initial === 'light');
    if(sectionEl) sectionEl.classList.toggle('light-theme', initial === 'light');

    function setIcon(light){
      if(!iconPath) return;
      if(light){
        // sun-like path
        iconPath.setAttribute('d','M12 3v1m0 16v1m8.66-9H21M3 12H2m15.36 6.36l-.71-.71M6.35 6.35l-.71-.71m12.02 0l.71-.71M6.34 17.66l.71-.71M12 7a5 5 0 100 10 5 5 0 000-10z');
        document.documentElement.style.colorScheme = 'light';
      } else {
        // moon-like path
        iconPath.setAttribute('d','M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z');
        document.documentElement.style.colorScheme = 'dark';
      }
    }

    setIcon(initial === 'light');

    if(toggle){
      toggle.addEventListener('click',()=>{
        const isLight = document.documentElement.classList.toggle('light');
        if(sectionEl) sectionEl.classList.toggle('light-theme', isLight);
        localStorage.setItem('theme', isLight ? 'light' : 'dark');
        setIcon(isLight);
      });
    }
  })();
  </script>

  <script src="js/main.js"></script>
</body>
</html>
